
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>7 Aug, 2013 SICP Note - Shou's origin</title>
  <meta name="author" content="Shou Ya">

  
  <meta name="description" content="7 Aug, 2013 SICP Note Aug 7th, 2013 Well, reading time it is now. Chapter 2.1.4 is an practical instance about a calculating system that
involves &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://shouya.github.io/page/sicp-notes/aug-7-2013.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Shou's origin" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
-->
<!--
<link href="/assets/fonts/PT_Sans_Regular.woff"
      rel="stylesheet" type="text/css">
<link href="/assets/fonts/PT_Sans_Bold.woff" rel="stylesheet" type="text/css">
<link href="/assets/fonts/PT_Serif_Regular.woff"
      rel="stylesheet" type="text/css">
<link href="/assets/fonts/PT_Serif_Bold.woff" rel="stylesheet" type="text/css">
-->
<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33282225-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Shou's origin</a></h1>
  
    <h2>Source of everything</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:shouya.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/page/sicp-notes/">SICP Notes</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">7 Aug, 2013 SICP Note</h1>
    <p class="meta">








  


<time datetime="2013-08-07T22:29:00+08:00" pubdate data-updated="true">Aug 7<span>th</span>, 2013</time></p>
  </header>
  
  <p>Well, reading time it is now.</p>

<p>Chapter 2.1.4 is an practical instance about a calculating system that
involves uncertain numbers. The fiction character, Alyssa P. Hacker,
conceives an abstract object, interval, to represent this data type.</p>

<p>On the most basic layer, there are a group of functions. Usually, an
interval consists of a lower bound and a upper bound. As expected, so
was what an interval object is constructed.</p>

<p>Here comes the first exercise:</p>

<blockquote>
  <p><strong>Exercise 2.7:</strong>  Alyssa’s program is incomplete because she has not
specified the implementation of the interval abstraction. Here is a
definition of the interval constructor:</p>

  <pre><code>(define (make-interval a b) (cons a b))
</code></pre>

  <p>Define selectors <code>upper-bound</code> and <code>lower-bound</code> to complete the
implementation.</p>
</blockquote>

<p>This is the easiest one. Here’s the solution:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="p">(</span><span class="k">define </span><span class="nv">upper-bound</span> <span class="nv">car</span><span class="p">)</span>
</span><span class="line"><span class="p">(</span><span class="k">define </span><span class="nv">lower-bound</span> <span class="nv">cdr</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The next one:</p>

<blockquote>
  <p><strong>Exercise 2.8:</strong>  Using reasoning analogous to Alyssa’s, describe
how the difference of two intervals may be computed. Define a
corresponding subtraction procedure, called <code>sub-interval</code>.</p>
</blockquote>

<p>Solution to this is as easy:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">sub-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">make-interval</span> <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">y</span><span class="p">))</span>
</span><span class="line">                 <span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">y</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Next one:</p>

<blockquote>
  <p><strong>Exercise 2.9:</strong>  The <em>width</em> of an interval is half of the difference
between its upper and lower bounds. The width is a measure of the
uncertainty of the number specified by the interval. For some
arithmetic operations the width of the result of combining two
intervals is a function only of the widths of the argument intervals,
whereas for others the width of the combination is not a function of
the widths of the argument intervals. Show that the width of the sum
(or difference) of two intervals is a function only of the widths of
the intervals being added (or subtracted). Give examples to show that
this is not true for multiplication or division.</p>
</blockquote>

<p>Let me restate above question in a simpler way. In some operations,
the width of resulted interval is a function of the operands’ widths,
whereas for other operations, the result width is not.</p>

<p>I’m trying to show that:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="nv">Let-syntax:</span> <span class="nv">Let</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span> <span class="nv">be</span> <span class="nv">the</span> <span class="nv">interval</span> <span class="nv">from</span> <span class="nv">a</span> <span class="nv">to</span> <span class="nv">b</span><span class="o">.</span>
</span><span class="line">
</span><span class="line"><span class="nv">For</span> <span class="nv">subtraction:</span>
</span><span class="line">
</span><span class="line"> <span class="nv">interval:</span>  <span class="p">[</span><span class="nv">a0,a1</span><span class="p">]</span>    <span class="nv">-</span>  <span class="p">[</span><span class="nv">b0,b1</span><span class="p">]</span>    <span class="nv">=</span>  <span class="p">[</span><span class="nv">a0-b1,a1-b0</span><span class="p">]</span>
</span><span class="line"> <span class="nv">width:</span>     <span class="p">(</span><span class="nf">a1-a0</span><span class="p">)</span><span class="nv">/2</span>     <span class="p">(</span><span class="nf">b1-b0</span><span class="p">)</span><span class="nv">/2</span>  <span class="nv">-&gt;</span> <span class="p">(</span><span class="nf">a1+b1-a0-b0</span><span class="p">)</span><span class="nv">/2</span>
</span><span class="line">         <span class="k">=&gt; </span><span class="p">(</span><span class="nf">a1+b1-a0-b0</span><span class="p">)</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">a1-a0</span><span class="p">)</span> <span class="nv">+</span> <span class="p">(</span><span class="nf">b1-b0</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="nv">Addition</span><span class="ss">&#39;s</span> <span class="nv">the</span> <span class="nv">same</span><span class="o">.</span>
</span><span class="line">
</span><span class="line"><span class="nv">For</span> <span class="nv">multiplication:</span>
</span><span class="line"><span class="nv">width</span><span class="p">(</span><span class="nf">absolute</span> <span class="nv">uncertainty</span><span class="p">)</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">b-a</span><span class="p">)</span><span class="nv">/2</span>
</span><span class="line"><span class="nv">width</span><span class="p">(</span><span class="nf">absolute</span> <span class="nv">uncertainty</span><span class="p">)</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">c,d</span><span class="p">]</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">d-c</span><span class="p">)</span><span class="nv">/2</span>
</span><span class="line"><span class="nv">%uncertainty</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span> <span class="nv">=</span> <span class="p">((</span><span class="nf">b-a</span><span class="p">)</span><span class="nv">/2</span><span class="p">)</span> <span class="nv">/</span> <span class="p">((</span><span class="nf">b+a</span><span class="p">)</span><span class="nv">/2</span><span class="p">)</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">b-a</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">b+a</span><span class="p">)</span>
</span><span class="line"><span class="nv">%uncertainty</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">c,d</span><span class="p">]</span> <span class="nv">=</span>                         <span class="p">(</span><span class="nf">d-c</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">d+c</span><span class="p">)</span>
</span><span class="line"><span class="nv">%uncertainty</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span><span class="nv">*</span><span class="p">[</span><span class="nv">c,d</span><span class="p">]</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">b-a</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">b+a</span><span class="p">)</span> <span class="nv">+</span> <span class="p">(</span><span class="nf">d-c</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">d+c</span><span class="p">)</span>
</span><span class="line"><span class="nv">center</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span><span class="nv">*</span><span class="p">[</span><span class="nv">c,d</span><span class="p">]</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">a+b</span><span class="p">)</span><span class="nv">/2</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">c+d</span><span class="p">)</span><span class="nv">/2</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">a+b</span><span class="p">)(</span><span class="nf">c+d</span><span class="p">)</span><span class="nv">/4</span>
</span><span class="line"><span class="nv">absolute</span> <span class="nv">uncertainty</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span><span class="nv">*</span><span class="p">[</span><span class="nv">c,d</span><span class="p">]</span>
</span><span class="line">   <span class="nv">=</span> <span class="p">(</span><span class="nf">center</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span><span class="nv">*</span><span class="p">[</span><span class="nv">c,d</span><span class="p">])</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">%uncertainty</span> <span class="nv">of</span> <span class="p">[</span><span class="nv">a,b</span><span class="p">]</span><span class="nv">*</span><span class="p">[</span><span class="nv">c,d</span><span class="p">])</span>
</span><span class="line">   <span class="nv">=</span> <span class="p">(</span><span class="nf">a+b</span><span class="p">)(</span><span class="nf">c+d</span><span class="p">)</span><span class="nv">/4</span> <span class="nv">*</span> <span class="p">((</span><span class="nf">b-a</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">b+a</span><span class="p">)</span> <span class="nv">+</span> <span class="p">(</span><span class="nf">d-c</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">d+c</span><span class="p">))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The width of the result is the absolute uncertainty of the result.</p>

<p>Here I implied a concept that <em>width</em> is actually the <em>absolute
uncertainty range</em> of an interval. As we see here, we can’t express
the width of the result, <code>(a+b)(c+d)/4 * ((b-a)/(b+a) + (d-c)/(d+c))</code>,
in terms of its arguments <code>(b-a)/2</code> and <code>(d-c)/2</code>. So we say the width
of a multiplication of two intervals is not a function of the
intervals’ widths. So is the division.</p>

<p>Let’s move on. Next exercise:</p>

<blockquote>
  <p><strong>Exercise 2.10:</strong>  Ben Bitdiddle, an expert systems programmer, looks
over Alyssa’s shoulder and comments that it is not clear what it means
to divide by an interval that spans zero. Modify Alyssa’s code to
check for this condition and to signal an error if it occurs.</p>
</blockquote>

<p>Easy. Simply add a condition determination:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">div-interval</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="k">if </span><span class="p">(</span><span class="k">and </span><span class="p">(</span><span class="nb">&lt; </span><span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">y</span><span class="p">)</span> <span class="mi">0</span><span class="p">)</span>
</span><span class="line">           <span class="p">(</span><span class="nb">&gt; </span><span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">y</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">begin</span>
</span><span class="line">        <span class="p">(</span><span class="nb">display </span><span class="s">&quot;error: divisor interval spans across the zero point&quot;</span><span class="p">)</span>
</span><span class="line">        <span class="p">(</span><span class="nf">newline</span><span class="p">)</span>
</span><span class="line">        <span class="p">(</span><span class="nf">exit</span><span class="p">))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">mul-interval</span> <span class="nv">x</span>
</span><span class="line">                    <span class="p">(</span><span class="nf">make-interval</span> <span class="p">(</span><span class="nb">/ </span><span class="mf">1.0</span> <span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">y</span><span class="p">))</span>
</span><span class="line">                                   <span class="p">(</span><span class="nb">/ </span><span class="mf">1.0</span> <span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">y</span><span class="p">))))))</span>
</span><span class="line"><span class="c1">;; test case</span>
</span><span class="line"><span class="p">(</span><span class="k">if </span><span class="no">#t</span>
</span><span class="line">    <span class="p">(</span><span class="k">let </span><span class="p">((</span><span class="nf">intv1</span> <span class="p">(</span><span class="nf">make-interval</span> <span class="mi">2</span> <span class="mi">5</span><span class="p">))</span>
</span><span class="line">          <span class="p">(</span><span class="nf">intv2</span> <span class="p">(</span><span class="nf">make-interval</span> <span class="mi">-3</span> <span class="mi">-1</span><span class="p">))</span>
</span><span class="line">          <span class="p">(</span><span class="nf">intv3</span> <span class="p">(</span><span class="nf">make-interval</span> <span class="mi">-3</span> <span class="mi">2</span><span class="p">)))</span>
</span><span class="line">      <span class="p">(</span><span class="nf">div-interval</span> <span class="nv">intv1</span> <span class="nv">intv2</span><span class="p">)</span>
</span><span class="line">      <span class="p">(</span><span class="nf">div-interval</span> <span class="nv">intv1</span> <span class="nv">intv3</span><span class="p">))</span>
</span><span class="line">    <span class="o">&#39;</span><span class="p">())</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>I don’t really understand what the next exercise asks. Here goes the
texts:</p>

<blockquote>
  <p><strong>Exercise 2.11:</strong>  In passing, Ben also cryptically comments: &#8220;By
testing the signs of the endpoints of the intervals, it is possible to
break <code>mul-interval</code> into nine cases, only one of which requires more
than two multiplications.’’ Rewrite this procedure using Ben’s
suggestion.</p>
</blockquote>

<p>I don’t know why there it needs 9 cases in multiplication. I don’t
know whether my understanding to the question 2.10 is correct. It
seems querying the span-zero check for multiplication as well. I don’t
know what’s the point. So I decide to skip this.</p>

<p>Then it proposes another function to build a interval, from a center,
and a width. Basically that is what I learnt in physics class, called
absolute uncertainty.</p>

<p>And the exercise is to ask for a implementation for percentage
uncertainty constructor.</p>

<blockquote>
  <p><strong>Exercise 2.12:</strong>  Define a constructor <code>make-center-percent</code> that takes a
center and a percentage tolerance and produces the desired
interval. You must also define a selector <code>percent</code> that produces the
percentage tolerance for a given interval. The <code>center</code> selector is the
same as the one shown above.</p>
</blockquote>

<p>My solution to this exercise is here:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">make-center-percent</span> <span class="nv">c</span> <span class="nv">p</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nf">make-interval</span> <span class="p">(</span><span class="nb">- </span><span class="nv">c</span> <span class="p">(</span><span class="nb">* </span><span class="nv">c</span> <span class="nv">p</span><span class="p">))</span>
</span><span class="line">                 <span class="p">(</span><span class="nb">+ </span><span class="nv">c</span> <span class="p">(</span><span class="nb">* </span><span class="nv">c</span> <span class="nv">p</span><span class="p">))))</span>
</span><span class="line"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">percent</span> <span class="nv">i</span><span class="p">)</span>
</span><span class="line">  <span class="p">(</span><span class="nb">/ </span><span class="p">(</span><span class="nb">- </span><span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">i</span><span class="p">))</span>
</span><span class="line">     <span class="p">(</span><span class="nb">+ </span><span class="p">(</span><span class="nf">upper-bound</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nf">lower-bound</span> <span class="nv">i</span><span class="p">))))</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The process to obtain the <code>percent</code> function was deduced in the answer
to the exercise 2.9 above.</p>

<blockquote>
  <p><strong>Exercise 2.13:</strong>  Show that under the assumption of small percentage
tolerances there is a simple formula for the approximate percentage
tolerance of the product of two intervals in terms of the tolerances
of the factors. You may simplify the problem by assuming that all
numbers are positive.</p>
</blockquote>

<p>The equation is:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="k">let </span><span class="nv">x</span> <span class="nv">=</span> <span class="nv">center</span><span class="p">([</span><span class="nv">a,b</span><span class="p">])</span><span class="o">,</span>  <span class="nv">y</span> <span class="nv">=</span> <span class="nv">center</span><span class="p">([</span><span class="nv">c,d</span><span class="p">])</span>
</span><span class="line">    <span class="nv">m</span> <span class="nv">=</span> <span class="nv">percent</span><span class="p">([</span><span class="nv">a,b</span><span class="p">])</span><span class="o">,</span> <span class="nv">n</span> <span class="nv">=</span> <span class="nv">percent</span><span class="p">([</span><span class="nv">c,d</span><span class="p">])</span>
</span><span class="line">
</span><span class="line"><span class="p">[</span><span class="nv">a,b</span><span class="p">]</span> <span class="nv">*</span> <span class="p">[</span><span class="nv">c,d</span><span class="p">]</span> <span class="nv">=</span> <span class="nv">x</span> <span class="nv">*</span> <span class="nv">y</span> <span class="nv">+/-</span> <span class="nv">x</span> <span class="nv">*</span> <span class="nv">y</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">m+n</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<blockquote>
  <p><strong>Exercise 2.14:</strong>  Demonstrate that Lem is right. Investigate the
behavior of the system on a variety of arithmetic expressions. Make
some intervals A and B, and use them in computing the expressions
A/A and A/B. You will get the most insight by using intervals whose
width is a small percentage of the center value. Examine the results
of the computation in center-percent form (see exercise 2.12).</p>
</blockquote>

<p>For this exercise, I used a rough approach to guess the
possibility. Mainly the interval result of multiplication or division
is obtained in a uncertain process involves <code>min</code> and <code>max</code> of a group
of possible results. In this way for different processes, that might
be algebraic equivalent, the actual data passing around could be
uncertain. Counting the number of times how multiplication/division is
called in each method, I found they’re not even same. So intuitively I
can say that this problem is expected to happen.</p>

<p>Okay, let me make this answer clearer with an example. Suppose we have
two intervals, <em>A</em> and <em>B</em>. <em>A/A</em> should be equivalent to <em>A/B * B/A</em>
algebraically. However, let me show the process of calculating and the
increase in uncertainty:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="scheme"><span class="line"><span class="nv">A/A</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">C1</span> <span class="nv">+/-</span> <span class="nv">A1</span><span class="p">)</span> <span class="nv">/</span> <span class="p">(</span><span class="nf">C1</span> <span class="nv">+/-</span> <span class="nv">A1</span><span class="p">)</span>
</span><span class="line">    <span class="nv">=</span> <span class="nv">C1/C1</span> <span class="nv">+/-</span> <span class="nv">C1/C1</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">A1/C1</span> <span class="nv">+</span> <span class="nv">A1/C1</span><span class="p">)</span>
</span><span class="line">    <span class="nv">=</span> <span class="mi">1</span> <span class="nv">+/-</span> <span class="mi">2</span><span class="nv">*A1/C1</span>
</span><span class="line">
</span><span class="line"><span class="o">#</span> <span class="nv">The</span> <span class="nv">uncertainty</span> <span class="nv">is</span> <span class="nv">the</span> <span class="ss">&#39;2*A1/C1</span><span class="o">&#39;</span> <span class="nv">here</span><span class="o">.</span>
</span><span class="line">
</span><span class="line"><span class="nv">A/B</span> <span class="nv">=</span> <span class="p">(</span><span class="nf">C1</span> <span class="nv">+/-</span> <span class="nv">A1</span><span class="p">)</span> <span class="nv">/</span> <span class="p">(</span><span class="nf">C2</span> <span class="nv">+/-</span> <span class="nv">A2</span><span class="p">)</span>
</span><span class="line">    <span class="nv">=</span> <span class="nv">C1/C2</span> <span class="nv">+/-</span> <span class="nv">C1/C2</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">A1/C1</span> <span class="nv">+</span> <span class="nv">A2/C2</span><span class="p">)</span>
</span><span class="line"><span class="nv">B/A</span> <span class="nv">=</span> <span class="nv">C2/C1</span> <span class="nv">+/-</span> <span class="nv">C2/C1</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">A1/C1</span> <span class="nv">+</span> <span class="nv">A2/C2</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="nv">A/B</span> <span class="nv">*</span> <span class="nv">B/A</span> <span class="nv">=</span> <span class="nv">C1/C2</span> <span class="nv">*</span> <span class="nv">C2/C1</span> <span class="nv">+/-</span> <span class="p">((</span><span class="nf">C1/C2</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">A1/C1</span> <span class="nv">+</span> <span class="nv">A2/C2</span><span class="p">))</span> <span class="nv">+</span> <span class="nv">C2/C1</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">A2/A1</span><span class="p">))</span>
</span><span class="line">          <span class="nv">=</span> <span class="mi">1</span> <span class="nv">+/-</span> <span class="p">((</span><span class="nf">A1/C1</span> <span class="nv">+</span> <span class="nv">A2/C2</span><span class="p">)</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">C1/C2</span> <span class="nv">+</span> <span class="nv">C2/C1</span><span class="p">))</span>
</span><span class="line">          <span class="nv">=</span> <span class="mi">1</span> <span class="nv">+/-</span> <span class="p">((</span><span class="nf">A1*C2+A2*C1</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">C1*C2</span><span class="p">)</span> <span class="nv">*</span> <span class="p">(</span><span class="nf">C1*C1+C2*C2</span><span class="p">)</span><span class="nv">/</span><span class="p">(</span><span class="nf">C1*C2</span><span class="p">))</span>
</span><span class="line">          <span class="nv">=</span> <span class="mi">1</span> <span class="nv">+/-</span> <span class="p">((</span><span class="nf">A1*C2+A2*C1</span><span class="p">)(</span><span class="nf">C1^2+C2^2</span><span class="p">))</span><span class="nv">/</span><span class="p">(</span><span class="nf">C1*C2</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As you see, the uncertainty of <em>A/B * B/A</em> is far complex than it of
<em>A/A</em>. Two seemly equivalent algebraic expressions have different
uncertainty. This result considers that two equivalent expressions in
Interval operations could be different.</p>

<blockquote>
  <p><strong>Exercise 2.15:</strong>  Eva Lu Ator, another user, has also noticed the
different intervals computed by different but algebraically equivalent
expressions. She says that a formula to compute with intervals using
Alyssa’s system will produce tighter error bounds if it can be written
in such a form that no variable that represents an uncertain number is
repeated. Thus, she says, <code>par2</code> is a ‘‘better’’ program for parallel
resistances than <code>par1</code>. Is she right? Why?</p>
</blockquote>

<p>Proof:</p>

<p><a href="http://imgur.com/EGC43bH" title="sicp ex 2.15"><img src="http://i.imgur.com/EGC43bHl.jpg" title="view full-size image" alt="sicp ex 2.15" /></a>
<a href="http://imgur.com/qiv6Fh7"><img src="http://i.imgur.com/qiv6Fh7l.jpg" title="view full-size image" /></a></p>

<blockquote>
  <p><strong>Exercise 2.16:</strong>  Explain, in general, why equivalent algebraic
expressions may lead to different answers. Can you devise an
interval-arithmetic package that does not have this shortcoming, or is
this task impossible? (Warning: This problem is very difficult.)</p>
</blockquote>

<p>All right, very difficult it is. Simply I thought I already
demonstrated this case in the answer to exercise 2.14. A general
explanation to this is that, in fact interval arithmetic operations
are not the same as the pure numerical ones, since we’d to
consider a range rather than a fixed point. So, in a complex
expression, although it might be algebraically equivalent to another
simpler one, it still gain a larger uncertainty in the process of
calculating.</p>

<p>A design to a interval-arithmetic package is here. Before processing
the calculation, firstly simplify the expression to eliminate the
multiplication and/or division between two interval as many as
possible[1]. Then do the regular process of calculation. Because for
different but algebraically equivalent expressions, the simplified one
could be unique. In the case we can acquire an unified result.</p>

<p>[1]: Because I don’t know if this kind of program is possible to
exist, I am not sure if this package could exist. I intuitively
thought it’s quite plausible to be.</p>

<h2 id="references">References</h2>
<ul>
  <li>Combining uncertainty, <em>Errors and Uncertainty</em> http://pfnicholls.com/physics/Uncertainty.html</li>
</ul>

  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2013-08-07T22:29:00+08:00" pubdate data-updated="true">Aug 7<span>th</span>, 2013</time>
        
        
      </p>
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://shouya.github.io/page/sicp-notes/aug-7-2013.html" data-via="" data-counturl="http://shouya.github.io/page/sicp-notes/aug-7-2013.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/how-lazy-evaluation-works-in-haskell/">翻譯：Haskell 怎麼實現惰性求值</a>
      </li>
    
      <li class="post">
        <a href="/blog/function-calling-syntax/">Function Calling Syntax</a>
      </li>
    
      <li class="post">
        <a href="/blog/how-to-be-happy/">翻譯：如何幸福起來</a>
      </li>
    
      <li class="post">
        <a href="/blog/dnscrypt-plus-dnsmasq-solution/">Linux 下 GFW 的 DNS 投毒解決方案</a>
      </li>
    
      <li class="post">
        <a href="/blog/a-brief-journal-about-learning-coq/">A Brief Journal About Learning Coq</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/shouya">@shouya</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'shouya',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/shouyatf@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014
- Shou Ya
- <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'shousorigin';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://shouya.github.io/page/sicp-notes/aug-7-2013.html';
        var disqus_url = 'http://shouya.github.io/page/sicp-notes/aug-7-2013.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
